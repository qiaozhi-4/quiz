<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.quiz.mapper.TaskMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.quiz.entity.Task">
        <id column="task_id" property="taskId" />
        <result column="award_id" property="awardId" />
        <result column="award_number" property="awardNumber" />
        <result column="describe_" property="describe" />
        <result column="condition_type" property="conditionType" />
        <result column="condition_number" property="conditionNumber" />
        <result column="created_at" property="createdAt" />
        <result column="updated_at" property="updatedAt" />
    </resultMap>
    <select id="selectTaskList" resultType="com.quiz.dto.TaskDTO">
        select a.*, b.finish_number, b.is_receive_award, c.prop_name as award_name
        from quiz.q_task a
                 left join quiz.q_task_record b on a.task_id = b.task_id
                 left join quiz.q_prop c on a.award_id = c.prop_id
        where b.user_id = #{userId}
          and b.created_at &gt;= #{mondayDateTime}
    </select>

</mapper>
